<html>
  <head>
      <script src="https://code.jquery.com/jquery-3.1.0.min.js"   integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="   crossorigin="anonymous"></script>
      <style>
        label {
          display: block;
          margin-bottom: 10px;
        }
        input {
          display: block;
        }
      </style>
  </head>
  <body>
    <form id="agent">
      <label>
        First Name
        <input id="first_name">
      </label>
      <label>
        Last Name
        <input id="last_name">
      </label>
      <label>
        Email
        <input id="email">
      </label>
      <label>
        Mlsid
        <input id="mlsid">
      </label>
      <label>
        Phone
        <input id="phone">
      </label>
      <label>
        Office Mlsid
        <input id="office_mlsid">
      </label>

      <input type="submit">
    </form>

    <script type="text/javascript">
      var $f = $('#agent');

      $f.submit(submitted);

      function submitted(e) {
        e.preventDefault();
        save();
      }

      function save() {
        var email      = $('#email').val().trim();
        var first_name = $('#first_name').val().trim();
        var last_name  = $('#last_name').val().trim();
        var mlsid      = $('#mlsid').val().trim();

        if(!email || !first_name || !last_name || !mlsid)
          return alert('Email, first name, last name and mlsid are required');

        $.ajax({
          url:'/agents',
          method:'post',
          dataType:'json',
          contentType:'application/json',
          data: JSON.stringify({
            first_name: first_name,
            last_name: last_name,
            email: email,
            mlsid: mlsid,
            status:'Active',
            office_mlsid:$('#office_mlsid').val(),
            phone:$('#phone').val(),
            matrix_unique_id:Math.floor(Math.random()*1000000)
          }),
          complete: function(res) {
            if(res.status === 201)
              return alert('Saved');

            alert('Cannot save that mlsid. Choose another one.')
          }
        })
      }
    </script>
  </body>
</html>